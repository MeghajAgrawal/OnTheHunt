{"inkVersion":20,"root":[["\n","ev",{"VAR?":"intro"},"str","^end","/str","==","/ev",[{"->":".^.b","c":true},{"b":["^ ",{"->":"itemcheck"},{"->":"0.10"},null]}],[{"->":".^.b"},{"b":["^ ",{"->":"returntoali"},{"->":"0.10"},null]}],"nop","\n",["done",{"#f":5,"#n":"g-0"}],null],"done",{"itemcheck":["ev",{"VAR?":"item3"},"str","^","/str","==","/ev",[{"->":".^.b","c":true},{"b":["^ ",{"->":"main"},{"->":".^.^.^.9"},null]}],[{"->":".^.b"},{"b":["^ ",{"->":"alreadychoose"},{"->":".^.^.^.9"},null]}],"nop","\n",{"#f":1}],"main":[{"#":"portrait:Marty"},"^Hello. I am looking for a wild poppy flower. Is that available here? ",{"#":"speaker:Etzio"},"\n","^Hello sir,","ev",{"VAR?":"introduced"},"/ev",[{"->":".^.b","c":true},{"b":["^Welcome back.",{"->":"main.10"},null]}],[{"->":".^.b"},{"b":["^Welcome. My name is Marty",{"->":"main.10"},null]}],"nop","^ I'll be happy to help you with that. Let me check our inventory, it'll take just a minute. ",{"#":"speaker:Marty"},"\n","ev",0,10,"rnd","/ev",{"VAR=":"rand","re":true},"\n","ev",{"VAR?":"rand"},10,"==","/ev",[{"->":".^.b","c":true},{"b":["\n",{"->":"windflower"},{"->":"main.28"},null]}],[{"->":".^.b"},{"b":["\n",{"->":"wildpoppy"},{"->":"main.28"},null]}],"nop","\n",{"#f":1}],"wildpoppy":["^Yes, we do have wild poppy flowers available. However since it is extremely difficult to find it's a little expensive. It'll cost you 10 coins per flower. ",{"#":"speaker:Marty"},"\n","^I understand. ",{"#":"speaker:Etzio"},"\n",{"->":"TakeWildPoppy"},{"#f":1}],"TakeWildPoppy":[["^Let me have.... ",{"#":"speaker:Etzio"},"\n",["ev","str","^2 Flower","/str","/ev",{"*":".^.c-0","flg":4},"ev","str","^1 Flower","/str","/ev",{"*":".^.c-1","flg":4},"ev","str","^3 Flower","/str","/ev",{"*":".^.c-2","flg":4},{"c-0":["ev",2,"/ev",{"->":"Flowercost"},"\n",{"#f":5}],"c-1":["^ ","ev",1,"/ev",{"->":"Flowercost"},"\n",{"#f":5}],"c-2":["ev",3,"/ev",{"->":"Flowercost"},"\n",{"#f":5}],"#f":5,"#n":"g-0"}],null],{"#f":1}],"Flowercost":[{"temp=":"number"},["ev",10,{"VAR?":"number"},"*","/ev",{"VAR=":"Cost","re":true},"ev",{"VAR?":"number"},"/ev",{"VAR=":"item3quantity","re":true},"^The total cost is ","ev",{"VAR?":"Cost"},"out","/ev","^ ",{"#":"speaker:Marty"},"\n",["ev","str","^Money - Pay the shopkeeper","/str",{"VAR?":"playercoins"},{"VAR?":"Cost"},">","/ev",{"*":".^.c-0","flg":21},"ev","str","^Haggle - Reduce the price","/str","/ev",{"*":".^.c-1","flg":20},"ev","str","^Ask for alternative","/str","/ev",{"*":".^.c-2","flg":20},{"c-0":["^ ","ev","str","^wildpoppy","/str","/ev",{"->":"Money"},"\n",{"#f":5}],"c-1":["^ ","ev","str","^wildpoppy","/str","/ev",{"->":"Haggle"},"\n",{"#f":5}],"c-2":["^ ","ev",{"VAR?":"number"},"/ev",{"->":"alternate_flower"},"\n",{"#f":5}],"#f":5,"#n":"g-0"}],null],{"#f":1}],"windflower":["^Unfortunately, we don't have wild poppy in our inventory right now since it does not grow during this season. But we do have a similar flower called Wind Flower which can be used as an alternative for any use. It is also a bit cheaper - 8 coins per flower. ",{"#":"speaker:Marty"},"\n","^I think that should work. I'll take my chances. ",{"->":"Takealternative"},"\n",{"#f":1}],"alternate_flower":[{"temp=":"number"},["^Sorry, but do you have any alternatives which have the same effect but are cheaper ? ",{"#":"speaker:Etzio"},"\n","^Yes, I do have a similar flower called Wind Flower which can be used as an alternative to Wild Poppy. It is also a bit cheaper - 8 coins per flower ",{"#":"speaker : Marty"},"\n",["ev","str","^Buy Wild Poppy","/str","/ev",{"*":".^.c-0","flg":4},"ev","str","^Buy Wind Flower","/str","/ev",{"*":".^.c-1","flg":4},{"c-0":["ev",{"VAR?":"number"},"/ev",{"->":"Flowercost"},"\n",{"#f":5}],"c-1":[{"->":"Takealternative"},"\n",{"#f":5}],"#f":5,"#n":"g-0"}],null],{"#f":1}],"Takealternative":[["^Let me have.... ",{"#":"speaker:Etzio"},"\n",["ev","str","^2 Flower","/str","/ev",{"*":".^.c-0","flg":4},"ev","str","^1 Flower","/str","/ev",{"*":".^.c-1","flg":4},"ev","str","^3 Flower","/str","/ev",{"*":".^.c-2","flg":4},{"c-0":["ev",2,"/ev",{"->":"ATotalCost"},"\n",{"#f":5}],"c-1":["ev",1,"/ev",{"->":"ATotalCost"},"\n",{"#f":5}],"c-2":["ev",3,"/ev",{"->":"ATotalCost"},"\n",{"#f":5}],"#f":5,"#n":"g-0"}],null],{"#f":1}],"ATotalCost":[{"temp=":"number"},["ev",8,{"VAR?":"number"},"*","/ev",{"VAR=":"Cost","re":true},"ev",{"VAR?":"number"},"/ev",{"VAR=":"item3quantity","re":true},"^The total cost is ","ev",{"VAR?":"Cost"},"out","/ev","^ ",{"#":"speaker:Marty"},"\n",["ev","str","^Money - Pay the shopkeeper","/str",{"VAR?":"playercoins"},{"VAR?":"Cost"},">","/ev",{"*":".^.c-0","flg":21},"ev","str","^Haggle - Reduce the price","/str","/ev",{"*":".^.c-1","flg":20},{"c-0":["^ ","ev","str","^windflower","/str","/ev",{"->":"Money"},"\n",{"#f":5}],"c-1":["^ ","ev","str","^windflower","/str","/ev",{"->":"Haggle"},"\n",{"#f":5}],"#f":5,"#n":"g-0"}],null],{"#f":1}],"Money":[{"temp=":"item"},["^Here are your ","ev",{"VAR?":"Cost"},"out","/ev","^ coins. ",{"#":"speaker:Etzio"},"\n","^Thank you. Here are the flowers. Have a good day. ",{"#":"speaker:Marty"},"\n","ev",{"VAR?":"playercoins"},{"VAR?":"Cost"},"-","/ev",{"VAR=":"playercoins","re":true},["ev","str","ev",{"VAR?":"item"},"out","/ev","^ - Take the ","ev",{"VAR?":"item"},"out","/ev","^ from the shopkeeper's hand","/str","/ev",{"*":".^.c-0","flg":20},{"c-0":["\n","ev",{"VAR?":"item"},"/ev",{"->":"appreciation"},{"#f":5}],"#f":5,"#n":"g-0"}],null],{"#f":1}],"Haggle":[{"temp=":"item"},["^I feel that the price is a bit on the higher side. Can you offer me a better price? ",{"#":"speaker:Etzio"},"\n","ev",{"VAR?":"Cost"},2,"-","/ev",{"VAR=":"Cost","re":true},"^Sir, these flowers are rare to find and having them in our shop is rather difficult. The best I can offer you is ","ev",{"VAR?":"Cost"},"out","/ev","^.",{"#":"speaker:Marty"},"\n","^Understandable. ",{"#":"speaker:Etzio"},"\n","ev","str","^Money - Pay the shopkeeper","/str",{"VAR?":"playercoins"},{"VAR?":"Cost"},">","/ev",{"*":".^.c-0","flg":21},"ev","str","^Haggle - Reduce the price","/str","/ev",{"*":".^.c-1","flg":20},{"c-0":["^ ","ev",{"VAR?":"item"},"/ev",{"->":"Money"},"\n",{"#f":5}],"c-1":["^ ","ev",{"VAR?":"item"},"/ev",{"->":"Hagglemore"},"\n",{"#f":5}]}],{"#f":1}],"Hagglemore":[{"temp=":"item"},"ev",{"VAR?":"Cost"},2,"-","/ev",{"VAR=":"Cost","re":true},"^But I still dont have enough can you do ","ev",{"VAR?":"Cost"},"out","/ev","^? ",{"#":"speaker:Etzio"},"\n","ev",{"VAR?":"item"},"str","^wildpoppy","/str","==","/ev",[{"->":".^.b","c":true},{"b":["^ ",{"->":"switch"},{"->":".^.^.^.24"},null]}],[{"->":".^.b"},{"b":["^ ",{"->":"Yes"},{"->":".^.^.^.24"},null]}],"nop","\n",{"#f":1}],"switch":["^No I cannot, please leave my shop.I do not wish to sell anything to you ",{"#":"speaker:Marty"},"\n","ev",0,"/ev",{"VAR=":"item3quantity","re":true},"ev","str","^xyz","/str","/ev",{"VAR=":"item3","re":true},"end",{"#f":1}],"Yes":["^Yes, It's a bit steep for me but I can. ",{"#":"speaker:Marty"},"\n","ev",{"VAR?":"playercoins"},{"VAR?":"Cost"},"-","/ev",{"VAR=":"playercoins","re":true},"ev","str","^windflower","/str","/ev",{"->":"appreciation"},{"#f":1}],"appreciation":[{"temp=":"item"},"ev",{"VAR?":"item"},"/ev",{"VAR=":"item3","re":true},"^Thank you for your service and ","ev",{"VAR?":"item3"},"out","/ev","^! ",{"#":"speaker:Etzio"},"\n","end",{"#f":1}],"alreadychoose":[{"#":"portrait:Marty"},"ev",{"VAR?":"item3"},"str","^xyz","/str","==","/ev",[{"->":".^.b","c":true},{"b":["^ ",{"->":"itemaint"},{"->":".^.^.^.9"},null]}],"nop","\n","^You have already bought ","ev",{"VAR?":"item3"},"out","/ev","^. Anything else I can help you with ? ",{"#":"speaker:Marty"},"\n","^Not really, Thank you so much ",{"#":"speaker:Etzio"},"\n","^No Problem, If you need anything let me know ",{"#":"speaker:Marty"},"\n","end",{"#f":1}],"itemaint":["^Sorry, I am not servicing you at the moment ",{"#":"speaker:Marty"},"\n","end",{"#f":1}],"returntoali":[{"#":"portrait:Marty"},"ev",true,"/ev",{"VAR=":"introduced","re":true},"^Hello sir, welcome. My name is Marty. I'll be happy to help you, Do you know what you need ? ",{"#":"speaker:Marty"},"\n","^No - I do not know ",{"#":"speaker:Etzio"},"\n","^Sorry to hear that, please do come again ",{"#":"speaker:Marty"},"\n","end",{"#f":1}],"global decl":["ev","str","^","/str",{"VAR=":"item1"},"str","^","/str",{"VAR=":"item2"},"str","^","/str",{"VAR=":"item3"},0,{"VAR=":"item1quantity"},0,{"VAR=":"item2quantity"},0,{"VAR=":"item3quantity"},"str","^begin","/str",{"VAR=":"intro"},"str","^begin","/str",{"VAR=":"end"},"str","^","/str",{"VAR=":"WinCondition"},100,{"VAR=":"playercoins"},0,{"VAR=":"Cost"},false,{"VAR=":"introduced"},1,{"VAR=":"rand"},"/ev","end",null],"#f":1}],"listDefs":{}}